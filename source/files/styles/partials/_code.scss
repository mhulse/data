@-webkit-keyframes cursor-blink { 80% { visibility: hidden; } }
        @keyframes cursor-blink { 80% { visibility: hidden; } }

pre,
code,
kbd,
samp,
var { font-family: $mono; }

pre {
	
	letter-spacing: .05em;
	text-align: left;
	word-wrap: normal;
	margin: {
		top: 25px;
		bottom: 25px;
	}
	padding: 10px 15px;
	overflow: auto;
	white-space: pre;
	-webkit-overflow-scrolling: touch;
	
	// Blinking cursor.
	// @see http://fredericiana.com/2012/11/04/html5-blink-tag/
	.cursor {
		-webkit-animation-duration: 2s;
				animation-duration: 2s;
		-webkit-animation-name: cursor-blink;
				animation-name: cursor-blink;
		-webkit-animation-iteration-count: infinite;
				animation-iteration-count: infinite;
		-webkit-animation-timing-function: steps(2, start);
				animation-timing-function: steps(2, start);
	}
	
	// Prompt style.
	.prompt { color: $raven; }
	
	&.terminal {
		
		letter-spacing: .05em;
		color: #30d259;
		background: #0e1705;
		
		.cursor {
			color: transparent;
			background: #30d259;
			letter-spacing: -.15em;
		}
		
		.prompt { color: #4e801c; }
		
	}
	
}

.pre {
	color: $gray4;
	background: fade-out($graye, .5);
	border: 1px solid $grayd;
	border-radius: 3px;
}

.pygments {
	
	color: $grayc;
	background: $gray2;
	border: 5px solid $gray2;
	margin: {
		top: 25px;
		bottom: 25px;
	}
	
	table {
		
		margin: 0;
		padding: 0;
		line-height: normal;
		
		// http://stackoverflow.com/a/7570613/922323
		// https://github.com/mhulse/picard/issues/145
		.pyg {
			
			position: relative;
			
			pre {
				width: 100%;
				padding: {
					right: 0;
					left: 5px;
				}
				//overflow: hidden;
				//white-space: nowrap;
				position: absolute;
			}
			
		}
		
		.linenos {
			
			vertical-align: top;
			background: $gray3;
			display: block;
			text-decoration: none;
			color: $gray8;
			text-align: right;
			
			+ td {
				width: 100%;
				vertical-align: top;
			}
			
		}
		
		th,
		td {
			border: 0 none;
			padding: 0;
		}
		
		pre { margin: 0; }
		
	}
	
	.hll { background-color: rgba(#8071ad, 0.2); display: block; } // Highlight
	.c   { color: #75715e; } // Comment
	.err { color: #960050; background-color: #1e0010; } // Error
	.k   { color: #66d9ef; } // Keyword
	.l   { color: #ae81ff; } // Literal
	.n   { color: #f8f8f2; } // Name
	.o   { color: #f92672; } // Operator
	.p   { color: #f8f8f2; } // Punctuation
	.cm  { color: #75715e; } // Comment.Multiline
	.cp  { color: #75715e; } // Comment.Preproc
	.c1  { color: #75715e; } // Comment.Single
	.cs  { color: #75715e; } // Comment.Special
	.ge  { font-style: italic; } // Generic.Emph
	.gs  { font-weight: bold; } // Generic.Strong
	.kc  { color: #66d9ef; } // Keyword.Constant
	.kd  { color: #66d9ef; } // Keyword.Declaration
	.kn  { color: #f92672; } // Keyword.Namespace
	.kp  { color: #66d9ef; } // Keyword.Pseudo
	.kr  { color: #66d9ef; } // Keyword.Reserved
	.kt  { color: #66d9ef; } // Keyword.Type
	.ld  { color: #e6db74; } // Literal.Date
	.m   { color: #ae81ff; } // Literal.Number
	.s   { color: #e6db74; } // Literal.String
	.na  { color: #a6e22e; } // Name.Attribute
	.nb  { color: #f8f8f2; } // Name.Builtin
	.nc  { color: #a6e22e; } // Name.Class
	.no  { color: #66d9ef; } // Name.Constant
	.nd  { color: #a6e22e; } // Name.Decorator
	.ni  { color: #f8f8f2; } // Name.Entity
	.ne  { color: #a6e22e; } // Name.Exception
	.nf  { color: #a6e22e; } // Name.Function
	.nl  { color: #f8f8f2; } // Name.Label
	.nn  { color: #f8f8f2; } // Name.Namespace
	.nx  { color: #a6e22e; } // Name.Other
	.py  { color: #f8f8f2; } // Name.Property
	.nt  { color: #f92672; } // Name.Tag
	.nv  { color: #f8f8f2; } // Name.Variable
	.ow  { color: #f92672; } // Operator.Word
	.w   { color: #f8f8f2; } // Text.Whitespace
	.mf  { color: #ae81ff; } // Literal.Number.Float
	.mh  { color: #ae81ff; } // Literal.Number.Hex
	.mi  { color: #ae81ff; } // Literal.Number.Integer
	.mo  { color: #ae81ff; } // Literal.Number.Oct
	.sb  { color: #e6db74; } // Literal.String.Backtick
	.sc  { color: #e6db74; } // Literal.String.Char
	.sd  { color: #e6db74; } // Literal.String.Doc
	.s2  { color: #e6db74; } // Literal.String.Double
	.se  { color: #ae81ff; } // Literal.String.Escape
	.sh  { color: #e6db74; } // Literal.String.Heredoc
	.si  { color: #e6db74; } // Literal.String.Interpol
	.sx  { color: #e6db74; } // Literal.String.Other
	.sr  { color: #e6db74; } // Literal.String.Regex
	.s1  { color: #e6db74; } // Literal.String.Single
	.ss  { color: #e6db74; } // Literal.String.Symbol
	.bp  { color: #f8f8f2; } // Name.Builtin.Pseudo
	.vc  { color: #f8f8f2; } // Name.Variable.Class
	.vg  { color: #f8f8f2; } // Name.Variable.Global
	.vi  { color: #f8f8f2; } // Name.Variable.Instance
	.il  { color: #ae81ff; } // Literal.Number.Integer.Long
	
}

code,
%code {
	font-size: inherit;
	font-weight: normal;
	font-style: normal;
	letter-spacing: normal;
	white-space: pre;           // CSS 2.0
	white-space: pre-wrap;      // CSS 2.1
	white-space: pre-line;      // CSS 3.0
	white-space: -pre-wrap;     // Opera 4-6
	white-space: -o-pre-wrap;   // Opera 7
	white-space: -moz-pre-wrap; // Mozilla
	white-space: -hp-pre-wrap;  // HP Printers
	word-wrap: break-word;      // IE 5+
}

code {
	font-weight: normal;
	letter-spacing: .05em;
	background: rgba($raven, .1);
	padding: 1px 5px;
	border-radius: 3px;
}

kbd {
	@extend %code;
	font-size: smaller;
	color: $gray3;
	text-shadow: 0 1px 0 $milk;
	background-color: $graye;
	border: 1px solid $grayc;
	margin: 0 .1em;
	padding: 0 .5em;
	display: inline-block;
	-webkit-background-clip: padding;
	   -moz-background-clip: padding;
			background-clip: padding-box;
	border-radius: 3px;
	box-shadow: 0 1px 0 rgba($raven, .2), 0 0 0 2px $milk inset;
}

samp { @extend %code; }

var { @extend %code; }

pre code,
pre kbd,
pre samp,
pre var,
kbd kbd {
	font-size: inherit;
	color: inherit;
	text-shadow: none;
	background: transparent;
	border: 0;
	margin: 0;
	padding: 0;
	display: inline;
	box-shadow: none;
	border-radius: 0;
}

// Gist embeds:
.gist {
	
	text-align: left;
	
	a {
		border: 0;
		box-shadow: none;
	}
	
}
.gist-file {
	margin: {
		top: 25px;
		bottom: 25px;
	}
}
